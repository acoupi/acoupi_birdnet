{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#acoupi_birdnet","title":"acoupi_birdnet","text":""},{"location":"#what_is_acoupi_birdnet","title":"What is acoupi_birdnet?","text":"<p>acoupi_birdnet is an open-source Python package that implement the BirdNET-Analyzer bioacoustic deep-learning model on edge devices like the Raspberry Pi, using the acoupi framework. The BirdNET-Analyzer DL model has been developed by the K. Lisa Yang Center for Conservation Bioacoustics at the Cornell Lab of Ornithology in collaboration with Chemnitz University of Technology to detect and classify more than 6000 bird species. </p> <p>What is the difference between acoupi and acoupi_birdnet?</p> <p>acoupi_birdnet and acoupi are different. The acoupi_birdnet program is built on top of the acoupi python package. Think of acoupi like a bag of LEGO pieces that you can assemble into multiple shapes and forms. acoupi_birdnet would be the results of assembling some of these LEGO pieces into \"birds\"!</p> Get familiar with acoupi <p>acoupi_birdnet builds on and inherits features from acoupi. If you want to learn more the acoupi framework, we recommand starting with acoupi's home documentation. </p>"},{"location":"#requirements","title":"Requirements","text":"<p>acoupi_birdnet is designed to run on single-board computers like the Raspberry\u00a0Pi. It can be installed and tested on any Linux-based machines with Python version &gt;=3.8,&lt;3.12.</p> <ul> <li>A Linux-based single-board computer such as the Raspberry Pi 4B.</li> <li>A SD Card with the 64-bit Lite OS version installed.</li> <li>An audible frequency range microphone, such as an AudioMoth\u00a0USB\u00a0Microphone or a Lavalier.</li> </ul> Recommended Hardware <p>The software has been extensively developed and tested with the RPi 4B. We advise users to select the RPi 4B or a device featuring similar specifications.</p>"},{"location":"#installation","title":"Installation","text":"<p>To install acoupi_birdnet on your embedded device, you will need to first have acoupi installed on your device. Follow these steps to install both acoupi and acoupi_birdnet:</p> <p>Step1: Install acoupi and its dependencies</p> <pre><code>curl -sSL https://github.com/acoupi/acoupi/raw/main/scripts/setup.sh | bash\n</code></pre> <p>Step2: Install acoupi_birdnet and its dependencies</p> <pre><code>pip install acoupi_birdnet\n</code></pre> <p>Step 3: Configure the acoupi_birdnet program.</p> <pre><code>acoupi setup --program acoupi_birdnet.program\n</code></pre> <p>Step 4: Start the acoupi_birdnet program.</p> <pre><code>acoupi deployment start\n</code></pre> Using acoupi_birdnet from the command line <p>To check what are the available commands for acoupi_birdnet, enter <code>acoupi --help</code>. For more details about each of the commands, refer to the acoupi CLI documentation for further info.</p>"},{"location":"#what_is_acoupi","title":"What is acoupi? \ud83d\ude80","text":"<p>acoupi is an open-source Python package that simplifies the use and implementation of bioacoustic classifiers on edge devices.  It integrates and standardises the entire bioacoustic monitoring workflow, facilitating the creation of custom sensors, by handling audio recordings, processing, classifications, detections, communication, and data management.</p> <p>Licenses and Usage</p> <p>acoupi_birdnet can not be used for commercial purposes.</p> <p>The acoupi_birdnet program inherits the BirdNET-Analyzer model license, published under the Creative Commons Attribution-NonCommercial 4.0 International. Please make sure to review this license to ensure your intended use complies with its terms.</p> <p>Model Output Reliability</p> <p>Please note that acoupi_birdnet program is not responsible for the accuracy or reliability of predictions made by the BirdNET-Analyzer model. It is essential to understand the model's performance and limitations before using it in your project.</p> <p>For more details on the BirdNET model, refer to the publication Kahl S., et al., (2021) BirdNET: A deep learning solution for avian diversity monitoring. To learn more about using the BirdNET scores and outputs from the model, refer to Wood CM. and Kahl S., (2024) Guidelines for appropriate use of BirdNET scores and other detector outputs </p> <p>Available acoupi programs!</p> <p>acoupi offers various programs that can be configured to meet your needs. These programs can be used to simply record audio, send messages, or even detect and classify birds species. Check out the full list of available acoupi programs to learn more. </p>"},{"location":"#next_steps","title":"Next steps \ud83d\udcd6","text":"<p>Get to know acoupi better by exploring this documentation.</p> Tutorials <p>Step-by-step information on how to install, configure and deploy acoupi_birdnet for new users.</p> Explanation <p>Learn more about the building blocks constituing acoupi_birdnet program.</p> Reference <p>Technical information refering to acoupi_birdnet code.</p> <p>Important</p> <p>We would love to hear your feedback about the documentation. We are always looking to hearing suggestions to improve readability and user's ease of navigation. Don't hesitate to reach out if you have comments!</p>"},{"location":"faq/","title":"FAQ","text":""},{"location":"faq/#faq","title":"FAQ","text":""},{"location":"faq/#what_is_acoupi-birdnet","title":"What is acoupi-birdnet?","text":"<p>acoupi-birdnet is the implementation of the latest AI Bioacoustics Classifier BirdNET-Analyzer using acoupi Python toolkit. </p>"},{"location":"faq/#what_is_birdnet-analyzer","title":"What is BirdNET-Analyzer?","text":"<p>BirdNET-Analyzer is a deep-learning model to detect and classify birds vocalizations. The model has been developed by the K. Lisa Yang Center for Conservation Bioacoustics at the Cornell Lab of Ornithology in collaboration with Chemnitz University of Technology.</p>"},{"location":"faq/#what_is_birdnetlib","title":"What is birdnetlib?","text":"<p>acoupi-birdnet uses the python API provided by the python package birdnetlib to access the  BirdNET-Analyzer model. </p>"},{"location":"faq/#can_the_birnet_model_classify_any_bird_species","title":"Can the BirNET model classify any bird species?","text":"<p>The BirdNET model is updated regularly. The V2.4 can recognized more than 6,000 species worldwide. The BirdNET model is used widely but as with any deep-learning model, the model can predict false-positives and false-negatives. </p>"},{"location":"faq/#for_who_is_acoupi-birdnet","title":"For who is acoupi-birdnet?","text":"<p>acoupi-birdnet is itended for researchers, practioners, and individuals interested in recording and classifying birds species on devices. </p>"},{"location":"faq/#can_i_configure_acoupi-birdnet","title":"Can I configure acoupi-birdnet?","text":"<p>Yes. Users can customised the configuration parameters of acoupi-birdnet to suit their own needs. See tutorials/configuration to learn more about the configuration options.</p>"},{"location":"faq/#what_are_the_requirements_to_use_acoupi-birdnet","title":"What are the requirements to use acoupi-birdnet?","text":"<p>To use acoupi-birdnet you will need the following hardware:</p> <ul> <li>a Raspberry Pi 4</li> <li>an SD Card (32GB or 64GB) with RaspbiOS-Arm64-Lite installed. </li> <li>a USB microphone such as the AudioMoth or a Lavalier microhpon. </li> </ul>"},{"location":"faq/#where_can_i_found_more_information_about_birdnet","title":"Where can I found more information about BirdNET?","text":"<ol> <li> <p>The BirdNET-Analyzer GitHub repository contains a lot of information about the model. </p> </li> <li> <p>The publication \"BirdNET: A deep learning solution for avian diversity monitoring\" (Kahl S., et al., 2021) is also a great resource to learn more about the architecture of the model. </p> </li> <li> <p>The research article \"Guidelines for appropriate use of BirdNET scores and other detector outputs\"  (Wood C.M and Kahl S., 2024) provides insightful information about how to understand and treat the detections scores from the model.</p> </li> </ol>"},{"location":"explanation/","title":"Explanation","text":""},{"location":"explanation/#explanation","title":"Explanation","text":"<p>Welcome to the Explanation Section of acoupi_birdnet package.</p> <p>This section of the documentation is intended for users who wish to better understand the inner-workings of acoupi_birdnet program.</p> <p>Learn about acoupi LEGO blocks!</p> <p>If you are interested in learning move about the different building blocks forming the acoupi framework, please refer to the Explanation Section of acoupi documentation.  </p> <p>acoupi Reference</p> <p>Take a look at the Reference section of the documentation to get insights into the python code and learn about the parameters and options available to customise acoupi.</p>"},{"location":"explanation/birdnet_program/","title":"BirdNet Program","text":""},{"location":"explanation/birdnet_program/#birdnet_program","title":"BirdNet Program","text":"<p>The BirdNET Program has been designed to record, detect and classify, as well as manage and send messages of UK bat calls. The program extends the <code>DetectionProgram</code> and <code>MessagingProgram</code> from the acoupi package by adding the BirdNET model and integrating users' custom configuration schema.</p>"},{"location":"explanation/birdnet_program/#key_elements","title":"Key Elements","text":""},{"location":"explanation/birdnet_program/#birdnet_configschema","title":"BirdNET_ConfigSchema","text":"<p>Defines the configuration for the BirdNET program, including the audio recording, model setup, file management, messaging, and summariser settings.</p>"},{"location":"explanation/birdnet_program/#program_tasks","title":"Program Tasks","text":""},{"location":"explanation/birdnet_program/#recording","title":"Recording","text":"<p>Records audio from a microphone and saves the audio files in a temporary directory until they have been processed by the <code>detection</code>  and <code>management</code> tasks. Based on the <code>SavingFilters</code> configuration, recordings  will either saved or deleted.</p>"},{"location":"explanation/birdnet_program/#detection","title":"Detection","text":"<p>Runs the BirdNET model on the audio recordings, processes the detections, and can use a custom <code>ModelOutputCleaner</code> to filter out unwanted detections (e.g., low-confidence score). The filtered detections are saved in a <code>metadata.db</code> file. </p>"},{"location":"explanation/birdnet_program/#management","title":"Management","text":"<p>Performs periodically file management operations, such as moving recording to permanent storage, or deleting unnecessary ones.</p>"},{"location":"explanation/birdnet_program/#messaging","title":"Messaging","text":"<p>Send messages stored in the message store using a configured protocol (HTTP or MQTT). </p>"},{"location":"explanation/birdnet_program/#summary","title":"Summary","text":"<p>Periodically creates summaries of the detections. </p>"},{"location":"explanation/birdnet_program/#customisation_options","title":"Customisation Options","text":""},{"location":"explanation/birdnet_program/#model_config","title":"Model Config","text":"<p>Set the <code>detection_threshold</code> to clean out the output of the  BatDetect2 model. Detections with a confidence score below this threshold  will be excluded from the store and from the message content.</p>"},{"location":"explanation/birdnet_program/#saving_config","title":"Saving Config","text":"<p>Define where recordings are stored, the naming format, and  the minimum confidence score for saving recordings. Recordings with confidence  scores below the <code>saving_threshold</code> will not be saved. The <code>saving_threshold</code>  can be set lower than the <code>detection_threshold</code> to save recordings with uncertain detections. Recordings with detections above the <code>detection_threshold</code> will be  saved in the <code>true_dir</code> directory, while recordings with detections below  the <code>detection_threshold</code> but above the <code>saving_threshold</code> will be saved in  the <code>false_dir</code> directory. </p>"},{"location":"explanation/birdnet_program/#savingfilters_config","title":"SavingFilters Config","text":"<p>Define additional saving filters for saving recordings. </p> <ul> <li>A timeinterval interval fitler that saves recordings whthin a specific time window, set by the <code>starttime</code> and <code>endtime</code> parameters. </li> <li>A frequency filter that saves recordings for a specific duration (in minutes) at defined interval (in minutes), set by the <code>frequency_duration</code> and <code>frequency_interval</code> parameters.</li> <li>A before dawn/dusk filter to save recording for a defined duration (in minutes) before dawn and dusk, set by the <code>before_dawndusk_duration</code>.</li> <li>An after dawn/dusk filter to save recording for a defined duration (in minutes) after dawn and dusk, set by the <code>after_dawndusk_duration</code>.</li> </ul>"},{"location":"explanation/birdnet_program/#summariserconfig","title":"SummariserConfig","text":"<p>Define the interval for summarising detections.  By default, the summariser calculates the minimum, maximum, and average  confidence scores of the total number of detections for each time interval.  If the <code>low_band_threshold</code>, <code>mid_band_threshold</code>, and <code>high_band_threshold</code> are  set to values greater than 0.0, it also summarises the number of detections in  each band (low, mid, high).</p>"},{"location":"reference/","title":"Technical Reference","text":""},{"location":"reference/#technical_reference","title":"Technical Reference","text":"<p>The technical reference section of acoupi_birdnet provides detailed information a on the three essential elements that define the program: the configuration schema, the model,  and the program itself.</p> <ul> <li> <p>Configuration: The configuration schema defines the structure and data types of each configuration variable. It allows users to customise how the acoupi_batdetect2 program runs and executes. </p> </li> <li> <p>Model: The model is the core of the acoupi_birdnet program. It handles how the <code>BirdNET</code> model is loaded, how it processes recordings, retrieves detections, and formats the results into a usable format for the subsequent tasks in the program.</p> </li> <li> <p>Program: The program class encapsulates all essential elements, enabling successful execution on a device. It leverages pre-defined acoupi templates to facilitate the organisation and configuration of the specific tasks and compoments. </p> </li> </ul> <p>Learn more about program tasks and compoments:</p> <p>The elements of the acoupi_birdnet program build and inherit from acoupi package. For detailed information on each module, class, and method, refer to the acoupi documentation's reference section.</p> Configuration <p>The blueprint for customising the _acoupi_birdnet_ program.</p> Model <p>Configuring the BirdNET model to process recordings.</p> Program <p>Complete unit adapting to users configurations.</p>"},{"location":"reference/configuration/","title":"Configuration","text":""},{"location":"reference/configuration/#configuration","title":"Configuration","text":""},{"location":"reference/configuration/#program_configuration","title":"Program Configuration","text":""},{"location":"reference/configuration/#acoupi_birdnet.configuration","title":"<code>acoupi_birdnet.configuration</code>","text":"<p>BirdNET Program Configuration Options.</p> <p>Classes:</p> Name Description <code>BirdNETAudioConfig</code> <p>Audio Configuration schema.</p> <code>BirdNETConfig</code> <p>BirdNET Program Configuration schema.</p> <code>ModelConfig</code> <p>Model output configuration.</p> <code>SaveRecordingFilter</code> <p>Saving Filters for audio recordings configuration.</p> <code>SaveRecordingManager</code> <p>Saving configuration for audio recordings.</p> <code>Summariser</code> <p>Summariser configuration.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration-classes","title":"Classes","text":""},{"location":"reference/configuration/#acoupi_birdnet.configuration.BirdNETAudioConfig","title":"<code>BirdNETAudioConfig</code>","text":"<p>               Bases: <code>AudioConfiguration</code></p> <p>Audio Configuration schema.</p> <p>Attributes:</p> Name Type Description <code>schedule_end</code> <code>time</code> <p>End time for recording schedule.</p> <code>schedule_start</code> <code>time</code> <p>Start time for recording schedule.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.BirdNETAudioConfig-attributes","title":"Attributes","text":""},{"location":"reference/configuration/#acoupi_birdnet.configuration.BirdNETAudioConfig.schedule_end","title":"<code>schedule_end = Field(default=datetime.time(hour=23, minute=0, second=0))</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>End time for recording schedule.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.BirdNETAudioConfig.schedule_start","title":"<code>schedule_start = Field(default=datetime.time(hour=4, minute=0, second=0))</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Start time for recording schedule.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.BirdNETConfig","title":"<code>BirdNETConfig</code>","text":"<p>               Bases: <code>DetectionProgramConfiguration</code></p> <p>BirdNET Program Configuration schema.</p> <p>This schema extends the acoupi <code>DetectionProgramConfiguration</code> to include settings for the BirdNET program, such as custom audio recording, model setup, file management, messaging, and summarisation.</p> <p>Attributes:</p> Name Type Description <code>model</code> <code>ModelConfig</code> <p>Model output configuration.</p> <code>recording</code> <code>AudioConfiguration</code> <p>Audio recording configuration.</p> <code>saving_filters</code> <code>SaveRecordingFilter</code> <p>Recording Saving Filters configuration for audio recordings.</p> <code>saving_managers</code> <code>SaveRecordingManager</code> <p>Recording Saving Managers configuration for audio recordings.</p> <code>summariser_config</code> <code>Optional[Summariser]</code> <p>Summariser configuration.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.BirdNETConfig-attributes","title":"Attributes","text":""},{"location":"reference/configuration/#acoupi_birdnet.configuration.BirdNETConfig.model","title":"<code>model = Field(default_factory=ModelConfig)</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Model output configuration.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.BirdNETConfig.recording","title":"<code>recording = Field(default_factory=BirdNETAudioConfig)</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Audio recording configuration.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.BirdNETConfig.saving_filters","title":"<code>saving_filters = Field(default_factory=SaveRecordingFilter)</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Recording Saving Filters configuration for audio recordings.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.BirdNETConfig.saving_managers","title":"<code>saving_managers = Field(default_factory=SaveRecordingManager)</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Recording Saving Managers configuration for audio recordings.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.BirdNETConfig.summariser_config","title":"<code>summariser_config = Field(default_factory=Summariser)</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Summariser configuration.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.ModelConfig","title":"<code>ModelConfig</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Model output configuration.</p> <p>Attributes:</p> Name Type Description <code>detection_threshold</code> <code>float</code> <p>Detection threshold for filtering model outputs.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.ModelConfig-attributes","title":"Attributes","text":""},{"location":"reference/configuration/#acoupi_birdnet.configuration.ModelConfig.detection_threshold","title":"<code>detection_threshold = 0.4</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Detection threshold for filtering model outputs.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.SaveRecordingFilter","title":"<code>SaveRecordingFilter</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Saving Filters for audio recordings configuration.</p> <p>Attributes:</p> Name Type Description <code>after_dawndusk_duration</code> <code>int</code> <p>Optional duration in minutes after dawn/dusk to save recordings.</p> <code>before_dawndusk_duration</code> <code>int</code> <p>Optional duration in minutes before dawn/dusk to save recordings.</p> <code>endtime</code> <code>time</code> <p>End time of the interval for which to save recordings.</p> <code>frequency_duration</code> <code>int</code> <p>Optional duration in minutes to save recordings using the frequency filter.</p> <code>frequency_interval</code> <code>int</code> <p>Optional periodic interval in minutes to save recordings.</p> <code>starttime</code> <code>time</code> <p>Start time of the interval for which to save recordings.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.SaveRecordingFilter-attributes","title":"Attributes","text":""},{"location":"reference/configuration/#acoupi_birdnet.configuration.SaveRecordingFilter.after_dawndusk_duration","title":"<code>after_dawndusk_duration = 30</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Optional duration in minutes after dawn/dusk to save recordings.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.SaveRecordingFilter.before_dawndusk_duration","title":"<code>before_dawndusk_duration = 30</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Optional duration in minutes before dawn/dusk to save recordings.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.SaveRecordingFilter.endtime","title":"<code>endtime = datetime.time(hour=21, minute=0, second=0)</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>End time of the interval for which to save recordings.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.SaveRecordingFilter.frequency_duration","title":"<code>frequency_duration = 0</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Optional duration in minutes to save recordings using the frequency filter.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.SaveRecordingFilter.frequency_interval","title":"<code>frequency_interval = 0</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Optional periodic interval in minutes to save recordings.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.SaveRecordingFilter.starttime","title":"<code>starttime = datetime.time(hour=17, minute=0, second=0)</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Start time of the interval for which to save recordings.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.SaveRecordingManager","title":"<code>SaveRecordingManager</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Saving configuration for audio recordings.</p> <p>(path to storage, name of files, saving threshold).</p> <p>Attributes:</p> Name Type Description <code>false_dir</code> <code>str</code> <p>Directory for saving recordings with uncertain detections.</p> <code>saving_threshold</code> <code>float</code> <p>Minimum threshold of detections from a recording to save it.</p> <code>timeformat</code> <code>str</code> <p>Time format for naming the audio recording files.</p> <code>true_dir</code> <code>str</code> <p>Directory for saving recordings with confident detections.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.SaveRecordingManager-attributes","title":"Attributes","text":""},{"location":"reference/configuration/#acoupi_birdnet.configuration.SaveRecordingManager.false_dir","title":"<code>false_dir = 'no_birds'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Directory for saving recordings with uncertain detections.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.SaveRecordingManager.saving_threshold","title":"<code>saving_threshold = 0.2</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Minimum threshold of detections from a recording to save it.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.SaveRecordingManager.timeformat","title":"<code>timeformat = '%Y%m%d_%H%M%S'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Time format for naming the audio recording files.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.SaveRecordingManager.true_dir","title":"<code>true_dir = 'birds'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Directory for saving recordings with confident detections.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.Summariser","title":"<code>Summariser</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Summariser configuration.</p> <p>Attributes:</p> Name Type Description <code>high_band_threshold</code> <code>Optional[float]</code> <p>Optional high band threshold to summarise detections.</p> <code>interval</code> <code>Optional[float]</code> <p>Interval (in seconds) for summarising detections.</p> <code>low_band_threshold</code> <code>Optional[float]</code> <p>Optional low band threshold to summarise detections.</p> <code>mid_band_threshold</code> <code>Optional[float]</code> <p>Optional mid band threshold to summarise detections.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.Summariser-attributes","title":"Attributes","text":""},{"location":"reference/configuration/#acoupi_birdnet.configuration.Summariser.high_band_threshold","title":"<code>high_band_threshold = 0.0</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Optional high band threshold to summarise detections.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.Summariser.interval","title":"<code>interval = 3600</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Interval (in seconds) for summarising detections.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.Summariser.low_band_threshold","title":"<code>low_band_threshold = 0.0</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Optional low band threshold to summarise detections.</p>"},{"location":"reference/configuration/#acoupi_birdnet.configuration.Summariser.mid_band_threshold","title":"<code>mid_band_threshold = 0.0</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":"<p>Optional mid band threshold to summarise detections.</p>"},{"location":"reference/model/","title":"Model","text":""},{"location":"reference/model/#model","title":"Model","text":""},{"location":"reference/model/#birdnet_model","title":"BirdNET Model","text":""},{"location":"reference/model/#acoupi_birdnet.model","title":"<code>acoupi_birdnet.model</code>","text":"<p>Acoupi-compatible Model that runs BirdNET.</p> <p>Classes:</p> Name Description <code>BirdNET</code> <p>BirdNET Model to analyse the audio recording.</p>"},{"location":"reference/model/#acoupi_birdnet.model-classes","title":"Classes","text":""},{"location":"reference/model/#acoupi_birdnet.model.BirdNET","title":"<code>BirdNET(min_conf=0.25, common_name=False)</code>","text":"<p>               Bases: <code>Model</code></p> <p>BirdNET Model to analyse the audio recording.</p> <p>This model uses the audioclass library to import the BirdNET model and identify and classify birds vocalisation in audio recordings.</p> <p>Attributes:</p> Name Type Description <code>name</code> <code>str</code> <p>The name of the model, by default \"BirdNET\".</p> <p>Methods:</p> Name Description <code>run</code> <p>Run the model on the recording.</p> <p>Attributes:</p> Name Type Description <code>common_name</code> <code>min_conf</code> <code>model</code> <code>BirdNET</code> <p>Get the BirdNET model.</p> <code>name</code>"},{"location":"reference/model/#acoupi_birdnet.model.BirdNET-attributes","title":"Attributes","text":""},{"location":"reference/model/#acoupi_birdnet.model.BirdNET.common_name","title":"<code>common_name = common_name</code>  <code>instance-attribute</code>","text":""},{"location":"reference/model/#acoupi_birdnet.model.BirdNET.min_conf","title":"<code>min_conf = min_conf</code>  <code>instance-attribute</code>","text":""},{"location":"reference/model/#acoupi_birdnet.model.BirdNET.model","title":"<code>model</code>  <code>property</code>","text":"<p>Get the BirdNET model.</p>"},{"location":"reference/model/#acoupi_birdnet.model.BirdNET.name","title":"<code>name = 'BirdNET'</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"reference/model/#acoupi_birdnet.model.BirdNET-functions","title":"Functions","text":""},{"location":"reference/model/#acoupi_birdnet.model.BirdNET.run","title":"<code>run(recording)</code>","text":"<p>Run the model on the recording.</p> <p>Parameters:</p> Name Type Description Default <code>recording</code> <code>Recording</code> <p>The audio recording to process.</p> required <p>Returns:</p> Type Description <code>ModelOutput</code> <p>The model output containing the detections.</p>"},{"location":"reference/program/","title":"Program","text":""},{"location":"reference/program/#program","title":"Program","text":""},{"location":"reference/program/#pre-built_program","title":"Pre-Built Program","text":""},{"location":"reference/program/#acoupi_birdnet.program","title":"<code>acoupi_birdnet.program</code>","text":"<p>BirdNET Program.</p> <p>Classes:</p> Name Description <code>BirdNETProgram</code> <p>BirdNET Program Configuration.</p>"},{"location":"reference/program/#acoupi_birdnet.program-classes","title":"Classes","text":""},{"location":"reference/program/#acoupi_birdnet.program.BirdNETProgram","title":"<code>BirdNETProgram</code>","text":"<p>               Bases: <code>DetectionProgram[BirdNETConfig]</code></p> <p>BirdNET Program Configuration.</p> <p>Methods:</p> Name Description <code>configure_model</code> <p>Configure the BirdNET model.</p> <code>get_file_managers</code> <p>Get the file managers for the BirdNET Program.</p> <code>get_message_factories</code> <p>Get the message factories for the BirdNET Program.</p> <code>get_recording_filters</code> <p>Get the recording filters for the BirdNET Program.</p> <code>get_summarisers</code> <p>Get the summarisers for the BirdNET Program.</p> <code>setup</code> <p>Set up the BirdNET Program.</p> <p>Attributes:</p> Name Type Description <code>config_schema</code>"},{"location":"reference/program/#acoupi_birdnet.program.BirdNETProgram-attributes","title":"Attributes","text":""},{"location":"reference/program/#acoupi_birdnet.program.BirdNETProgram.config_schema","title":"<code>config_schema = BirdNETConfig</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"reference/program/#acoupi_birdnet.program.BirdNETProgram-functions","title":"Functions","text":""},{"location":"reference/program/#acoupi_birdnet.program.BirdNETProgram.configure_model","title":"<code>configure_model(config)</code>","text":"<p>Configure the BirdNET model.</p> <p>Returns:</p> Type Description <code>BirdNET</code> <p>The BirdNET model instance.</p>"},{"location":"reference/program/#acoupi_birdnet.program.BirdNETProgram.get_file_managers","title":"<code>get_file_managers(config)</code>","text":"<p>Get the file managers for the BirdNET Program.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>BirdNET_ConfigSchema</code> <p>The configuration schema for the acoupi_birdnet program defined in the configuration.py file and configured by a user via the CLI.</p> required <p>Returns:</p> Type Description <code>list[RecordingSavingManager]</code> <p>A list of file managers for the birdnet program.</p>"},{"location":"reference/program/#acoupi_birdnet.program.BirdNETProgram.get_message_factories","title":"<code>get_message_factories(config)</code>","text":"<p>Get the message factories for the BirdNET Program.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>BirdNET_ConfigSchema</code> <p>The configuration schema for the acoupi_birdnet program defined in the configuration.py file and configured by a user via the CLI.</p> required <p>Returns:</p> Type Description <code>list[MessageBuilder]</code> <p>A list of message factories for the birdnet program. By default, the message factory will use the <code>detection_threshold</code> parameter for buildling messages.</p>"},{"location":"reference/program/#acoupi_birdnet.program.BirdNETProgram.get_recording_filters","title":"<code>get_recording_filters(config)</code>","text":"<p>Get the recording filters for the BirdNET Program.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>BirdNET_ConfigSchema</code> <p>The configuration schema for the acoupi_birdnet program defined in the configuration.py file and configured by a user via the CLI.</p> required <p>Returns:</p> Type Description <code>list[RecordingSavingFilter]</code> <p>A list of recording filters for the birdnet program. If no saving filters are defined, the method will not save any recordings.</p>"},{"location":"reference/program/#acoupi_birdnet.program.BirdNETProgram.get_summarisers","title":"<code>get_summarisers(config)</code>","text":"<p>Get the summarisers for the BirdNET Program.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>BirdNET_ConfigSchema</code> <p>The configuration schema for the acoupi_birdnet program defined in the configuration.py file and configured by a user via the CLI.</p> required <p>Returns:</p> Type Description <code>list[Summariser]</code> <p>A list of summarisers for the birdnet program. By default, the summariser will use the <code>summariser_config.interval</code> parameter for summarising the detections and calculating the minimum, maximum, and average confidence scores of the detections in each interval.</p>"},{"location":"reference/program/#acoupi_birdnet.program.BirdNETProgram.setup","title":"<code>setup(config)</code>","text":"<p>Set up the BirdNET Program.</p> <p>This method initialises the birdnet program, registers the recording, detection, management, messaging, and summariser tasks, and performs any necessary setup for the program to run.</p>"},{"location":"tutorials/","title":"Tutorials","text":""},{"location":"tutorials/#tutorials","title":"Tutorials","text":"<p>This section of the documentation contains step-by-step tutorials to help you getting started with acoupi_birdnet. The tutorials aim to outline what acoupi_birdnet is capable of while providing specific information such as installing, configuring, and deploying the acoupi_birdnet program.</p> <p>We hope the tutorials are broadly accessible to anyone with an interest in using acoupi_birdnet.</p> Tutorials Step-by-Step Information Installation Learn how to install acoupi_birdnet Configuration Learn about the configuration options for acoupi_birdnet program. Deployment Learn how to start, stop and get the status of acoupi_birdnet program. <p>acoupi_birdnet Reference</p> <p>Take a look at the Reference section of the documentation to learn more about the code supporting acoupi_birdnet.</p> <p>Contribution</p> <p>We are interested to expand the number of tutorials so users can gain more detailed information about specific elements of acoupi_birdnet. If you feel we should do a tutorial about \"XYZ\", please reach out!</p>"},{"location":"tutorials/configuration/","title":"Configuration","text":""},{"location":"tutorials/configuration/#configuration","title":"Configuration","text":"<p>Once acoupi_birdnet has been installed on a device, users can configure it. This setup determine how the device records audio, classifies it, and sends information over a network.</p> <p>To accept the default settings, press the keyboard letter <code>y</code> or the key <code>Enter</code>.  To reject and modify a setting, press the keyboard letter <code>n</code> and input a new value when prompted.</p> <p>The video shows the configuration process for the acoupi_birdnet program via the CLI.  </p> <p></p>"},{"location":"tutorials/configuration/#configuration_parameters","title":"Configuration Parameters","text":"<p>The following is an example of how an acoupi_birdnet program can be configured, shown in JSON format.</p> <p>In this setup, the device records audio in 3 second clips every 5 seconds, from 4am to 10pm. However, the device saves recordings between 11am (<code>saving_filters.starttime</code>) and 1pm  (<code>saving_filters.endttime</code>) and 30 minutes before and after dawn and dusk. Several parameters control how and when recordings are saved. </p> <ul> <li><code>saving_managers.true_dir</code> and <code>saving_managers.false_dir</code> specify the folders where recordings are saved. These paramenters are complementary to the <code>paths.recordings</code> parameter. Recordings with \"true\" detections (i.e., where the detection confidence score is greater or equal to the <code>model.detection_threshold</code> parameter) are saved in the <code>true_dir</code> folder, while those with \"false\" detections (i.e., where the confidence score is lower than the <code>model.detection_threshold</code> but higher than the <code>saving_managers.saving_threshold</code>) are saved in the <code>false_dir</code> folder. This aims at helping capturing possible false negatives.</li> <li><code>saving_managers.timeformat</code> determines the naming format for saved recordings. The timestamp in the filename reflects the starting time of a recording (i.e., the exact time the recording started).</li> </ul> <p>Detections made by the BirdNET model are transmitted to a remote server using either an MQTT communication protocol. The following parameters manage how and where this information is sent. </p> <ul> <li><code>mqtt.host</code> and <code>mqtt.topic</code> specify the destination (i.e., the server address and the topic) to which messages are sent. Messages contain information about the recording file, and the detection and classification found in the file. </li> <li><code>messaging.messages_db</code> sets the location of the local database on the device. This database stores outgoing messages and tracks their status - whether they are waiting to be sent, have been sent successfully or failed. </li> <li><code>messaging.message_send_interval</code> controls how often the system checks for new messages to be sent. This interval can be reduced for near real-time updates, or lengthen to minutes or even hours if network connectivity is limited. </li> </ul> <p>CLI Output: acoupi config get</p> <pre><code>{\n    \"timezone\": \"Europe/London\",\n    \"microphone\": {\n        \"device_name\": \"\",\n        \"samplerate\": 44000,\n        \"audio_channels\": 1\n    },\n    \"recording\": {\n        \"duration\": 3,\n        \"interval\": 5,\n        \"chunksize\": 8192,\n        \"schedule_start\": \"04:00:00\",\n        \"schedule_end\": \"22:00:00\"\n    },\n    \"paths\": {\n        \"tmp_audio\": \"/run/shm\",\n        \"recordings\": \"/home/pi/storages/recordings\",\n        \"db_metadata\": \"/home/pi/storages/metadata.db\"\n    },\n    \"messaging\": {\n        \"messages_db\": \"/home/pi/storages/messages.db\",\n        \"message_send_interval\": 120,\n        \"heartbeat_interval\": 3600,\n        \"http\": null,\n        \"mqtt\": {\n            \"host\": \"your-mqtt-broker.org\",\n            \"username\": \"mqtt_username\",\n            \"password\": \"mqtt_password\",\n            \"topic\": \"mytopic/acoupi\",\n            \"port\": 1884,\n            \"timeout\": 5\n        }\n    },\n    \"model\": {\n        \"detection_threshold\": 0.4\n    },\n    \"saving_filters\": {\n      \"starttime\": \"11:00:00\",\n      \"endtime\": \"13:00:00\",\n      \"before_dawndusk_duration\": 30,\n      \"after_dawndusk_duration\": 30,\n      \"frequency_duration\": 0,\n      \"frequency_interval\": 0\n    },\n    \"saving_managers\": {\n      \"true_dir\": \"birds\",\n      \"false_dir\": \"no_birds\",\n      \"timeformat\": \"%Y%m%d_%H%M%S\",\n      \"saving_threshold\": 0.2\n    },\n    \"summariser_config\": {\n      \"interval\": 3600.0,\n      \"low_band_threshold\": 0.0,\n      \"mid_band_threshold\": 0.0,\n      \"high_band_threshold\": 0.0\n    }\n}\n</code></pre> <p>How to define the <code>detection_threhold</code> value?</p> <p>The <code>detection_threshold</code> selects detections based on their confidence scores. Detections below this value will be disregarded, while those above or equal to this threshold will be saved. </p> <p>The confidence score obtained from running the BirdNET model on your audio recordings depends on the model's prediction accuracy and recall, as well as factors like your audio recording device,  recorder location, and environmenal conditions. </p> <p>We recommend familiarising yourself with the BirdNET model's precision and recall values. Refer to the publication by Wood CM. and Kahl S., (2024) Guidelines for appropriate use of BirdNET scores and other detector outputs for more details. </p> How to modify a value after setup? <p>You can modify a parameter's value after the acoupi_birdnet program has been set up. This can be necessary due to a misconfiguration or to make changes to the current program. To modify a parameter, use the command:</p> <p>CLI Command: modify a configuration parameter after setup</p> <pre><code>acoupi config set --field &lt;parameter_name&gt; &lt;new_value&gt;\n</code></pre> <p>Replace the <code>parameter_name</code> with the full name of the parameter to modified. For example, to update the recording saving filters start time to 7pm, the CLI command would be as follow:</p> <p>CLI Command: modify recording_saving filter start time</p> <pre><code>acoupi config set --field recording_saving.filters.starttime 19:00:00\n</code></pre> <p>The table below provides detailed information about the parameters available when setting up acoupi_birdnet program.</p> Parameter Type Default Value Definition Comment Microphone Microphone configuration. <code>microphone.device_name</code> str - The name of the microphone to use for recording. Ensure it matches the device in use. <code>microphone.samplerate</code> int (Hz) - Sampling rate of the microphone in Hz. Set the sampling rate according to the microphone's specifications, however keep in mind that <code>batdetect2</code> natively processes recordings at 256 kHz and resamples all non-matching recordings. <code>microphone.audio_channels</code> int - Number of audio channels (i.e., 1 for mono). Configure according to the microphone's capabilities, however keep in mind that <code>batdetect2</code> only uses the first audio channel. Recording Configuration regarding the recording process. <code>recording.duration</code> int (sec.) 3 Duration in seconds for each audio recording. The <code>batdetect2</code> model is able to process recordings of variable duration, however processing long recordings might lead to failure due to increased memory usage. Keep the duration between 1 and 3 seconds for optimal performance. <code>recording.interval</code> int (sec.) 5 Interval in seconds between recordings. <code>recording.chunksize</code> int 8192 Chunksize of the audio recording. An error will occur if the chunksize is too small for the audio device. <code>schedule_start</code> time (HH:MM:SS) 04:00:00 Time of day when recordings will start (24-hour format). Adjust according to specific monitoring needs (e.g., nightime hours). <code>schedule_end</code> time (HH:MM:SS) 22:00:00 Time of day when recordings will end (24-hour format). Adjust according to specific monitoring needs (e.g., nightime hours). <code>timezone</code> string \"Europe/London\" Timezone of the sensor location. Configure this according to your deployment region. Paths Configuration for file paths. <code>paths.tmp_audio</code> string \"/run/shm\" Temporary storage path for audio recordings. Temporary in-memory path. Do not modify. <code>paths.recordings</code> string \"/home/pi/storages/recordings\" Path to directory for permanent storing of recorded audio files. Modify accordingly. With default paths, recordings are stored on the SDCard, modify if using external usb hardrive. <code>paths.db_metadata</code> string \"/home/pi/storages/metadata.db\" Path to the database file for storing the metadata. This database keeps track of recorded files, ML detection results, and system information. Messaging (Optional) Configuration for sending messages to remote server. Will require access to network connectivity at the location of your device deployment. <code>messaging.messages_db</code> str \"/home/pi/storages/messages.db\" Path to the database file for storing messages. This database keeps track of the messages to be sent to a remote server and their sent/received status. <code>messaging.message_send_interval</code> int (sec.) 120 Interval in seconds between attempts to send messages to a remote server. Adjust for network performance and data bandwidth. <code>messaging.heartbeat_interval</code> int (sec.) 3600 Interval in seconds for sending heartbeat messages to the server. Heartbeat message provides information about the device status (i.e., the correct functioning of the device). Messaging HTTP (Optional) Configuration for sending messages via HTTP. <code>messaging.http.base_url</code> str - URL of the HTTP server to which messages are sent. Configure according to your server setup. <code>messaging.http.content_type</code> str application/json Content type of the HTTP messages. Messages to be sent are formated into a <code>json</code> object. <code>messaging.http.timeout</code> int (sec) - Timeout for HTTP requests in seconds. Messaging MQTT (Optional) Configuration for sending messages via MQTT. <code>messaging.mqtt.host</code> string - MQTT server hostname for message transmission. Configure according to your server setup. <code>messaging.mqtt.username</code> str - Username for authentication with the MQTT broker. Replace with your server username. <code>messaging.mqtt.password</code> str - Password for authentication with the MQTT broker. Replace with your server password. <code>messaging.mqtt.topic</code> str \"acoupi\" Topic on the MQTT broker to publish messages Replace with your server setup. <code>messaging.mqtt.port</code> int 1884 Port number of the MQTT broker. Default port is usually fine unless other setup on your server. <code>messaging.mqtt.timeout</code> int (sec) 5 Timeout for connecting to the MQTT broker in seconds. Model Configuration related to running the BirdNET model. <code>model.detection_threshold</code> float 0.4 Defines the threshold for filtering the detections obtained by the model. A float value between 0.01 and 0.99. Recording Saving Filters (Optional) N/A - Additional configurations for filtering the recordings to save. <code>saving_filters.starttime</code> time (HH:MM:SS) \"11:00:00\" Start time for saving recorded audio files (24-hour format). Insert 00:00:00 to not use this parameter to save audio recordings. <code>saving_filters.endtime</code> time (HH:MM:SS) \"13:00:00\" End time for saving recorded audio files (24-hour format) Insert 00:00:00 to not use this parameter to save audio recordings. <code>saving_filters.before_dawndusk_duration</code> int (min.) 30 Additional duration (in minutes) to save recordings before the dawn/dusk time. Ensure recording interval covers the dawn and dusk time if using this parameter. <code>saving_filters.after_dawndusk_duration</code> int (min.) 30 Additional duration (in minutes) to save recordings after the dawn/dusk time. Ensure recording interval covers the dawn and dusk time if using this parameter. <code>saving_filters.frequency_duration</code> int (min.) 0 Duration in minutes for storing recordings when using the frequency filter. Set to zero if not using this parameter. <code>saving_filters.frequency_interval</code> int (min.) 0 Periodic interval in minutes between two periods of storing recordings. Set to zero if not using this parameter. Recording Saving Managers (Optional) Additional configurations for managing recordings processed by the model. <code>saving_managers.true_dir</code> str \"bats\" Path to the directory storing audio files with confident detections (i.e., recordings with detection score greater or equal than the <code>detection_threshold</code>). Folder located in the folder defined by the <code>path.recordings</code> parameter. <code>saving_managers.false_dir</code> str \"no_bats\" Path to the directory storing audio files with non-confident detections (i.e., recordings with detection score smaller than the <code>detection_threshold</code>). Folder located in the folder defined by the <code>path.recordings</code> parameter. <code>saving_managers.timeformat</code> str \"%Y%m%d_%H%M%S\" Defines how to name recording files. The default value capture the date and time when the recording stated. A recording with name 20241004_183040.wav indicates that the recording started on October 4, 2024 at 18:30:40. <code>saving_managers.saving_threshold</code> float 0.2 Defines the threshold for saving files containing non-confident detections. A float value between 0.01 and 0.99. Summariser (Optional) Configuration for creating summary messages of the detections. <code>summariser.interval</code> float 3600 Interval for which detections will be summarised. In minutes. <code>summariser.low_band_threshold</code> float 0.0 Count the number of bat calls for each species that have a classification score lower or equal to the threshold. A float value between 0.01 and 0.99 <code>summariser.mid_band_threshold</code> float 0.0 Count the number of bat calls for each species that have a classification score lower or equal to the mid_band value but higher than the low_band value. A float value between 0.01 and 0.99 <code>summariser.high_band_threshold</code> float 0.0 Count the number of bat calls for each species that have a classification score lower or equal to the high_band value but higher than the high_band value. A float value between 0.01 and 0.99"},{"location":"tutorials/deployment/","title":"Deployment","text":""},{"location":"tutorials/deployment/#deployment","title":"Deployment","text":"<p>After installing and configuring an acoupi_birdnet program, users can proceed to deploy it. This means the device will start running the program, ensuring audio recordings happen according to the configured recording schedule, recorded files will be saved or deleted, and if http or mqtt messaging were configured, messages will be sent to a remote server. </p> What happens when a deployment starts? <p>When starting the deployment of a program, the following happen:</p> <ul> <li>Create Storages: This step checks that the folders and database files to store recordings and metadata exist. If using the default program configuration, a <code>storages/</code> folder will be created in the home directory (i.e., <code>home/pi/</code>), containing a <code>metadata.db</code> file and a <code>recordings/</code> folder to store the <code>.wav</code> audio files. </li> <li>Schedule Tasks: This step creates special instructions called systemd unit files to ensure that the program runs automatically in the background. This means the program will keep running even when the terminal window is closed or the device restarts after power interruption.</li> </ul> How are deployments managed? <p>For more details about the system background processes and the management of a deployment, refer to the Explanation: System section of the acoupi documentation.</p>"},{"location":"tutorials/deployment/#managing_the_deployment_of_acoupi_birdnet_via_the_cli","title":"Managing the deployment of acoupi_birdnet via the CLI","text":"<p>The video shows how a user can start, stop, and get the status of acoupi_birdnet.</p> <p></p>"},{"location":"tutorials/deployment/#before_starting_a_deployment","title":"Before starting a deployment","text":"<p>Before starting a deployment, it's important to run a health check to ensure there are no errors in the program configuration. If everything is in order, a green message saying <code>Health checks passed</code> will be printed. However, if there are any errors, the system will display specific error messages. To resolve them, modify the configurations settings according to the provided error messages. </p> <p>CLI Command: pre-deployment checks</p> <pre><code>acoupi check\n</code></pre>"},{"location":"tutorials/deployment/#starting_a_deployment","title":"Starting a deployment","text":"<p>When ready to start a program, use the <code>acoupi deployment start</code> command. This will prompt you to provide some additional information; a name for the deployment and the latitude and longitude coordinates of the device\u2019s location. This data will be saved in the <code>metadata.db</code> file along with the start date and time of the deployment.</p> <p>CLI Command: activating an acoupi program</p> <pre><code>acoupi deployment start\n</code></pre> Table: Additional parameters when starting a deployment Deployment Parameter Type Value Definition <code>name</code> string - Name for the specific deployment. <code>latitude</code> float - The latitude coordinate of the device location when   deployed. <code>longitude</code> float - The longitude coordinate of the device location when  deployed."},{"location":"tutorials/deployment/#getting_the_status_of_a_deployment","title":"Getting the status of a deployment","text":"<p>After starting a deployment, it\u2019s good practice to check the status of the program by running the <code>acoupi deployment status</code> command. This command provides a status report for system services, Celery workers, the program, and the overall deployment.</p> <p>CLI Command: viewing the status of acoupi_birdnet</p> <pre><code>acoupi deployment status\n</code></pre>"},{"location":"tutorials/deployment/#stopping_a_deployment","title":"Stopping a deployment","text":"<p>Stopping the deployment can be necessary if you need to modify the program\u2019s configuration, move the device to a different location, or fix any errors that have appeared in the logs. To halt the program, use the <code>acoupi deployment stop</code> command. Remember, once a deployment is stopped, it can only be restarted by running the acoupi deployment start command again.</p> <p>CLI Command: halting deployment of acoupi_birdnet</p> <pre><code>acoupi deployment stop\n</code></pre>"},{"location":"tutorials/deployment/#understanding_acoupi_birdnet_status","title":"Understanding acoupi_birdnet status","text":"<ul> <li> <p>System Services: Refer to the background processes that keep your acoupi installation running. These are the core services that manage the overall execution of the program and heartbeat monitoring. Two critical files handle these: the <code>acoupi.service</code> responsible for starting and stopping the program and the <code>acoupi-beat.service</code> that ensure the system's health at regular interval (hearbeats).</p> <ul> <li><code>status: inactive</code>: the system services are not running. This happen when the program has not been deployed.</li> <li><code>status: active</code>: the system services are running normally.</li> <li><code>status: failed</code>: an error has occured, and the services have stopped. The error message will provide information about the error.</li> </ul> </li> <li> <p>Celery: Celery is the task manager that coordinates the execution of background jobs, indlucing tasks like audio recording and file management. By default, acoupi uses two workers: the <code>recording</code> worker manages audio recording tasks, the <code>default</code> worker handles any other tasks.  </p> <ul> <li><code>status: unavailable</code>: Celery hasn't started or has stopped. The program isn't processing tasks. </li> <li><code>status: available</code> and <code>workers: ok</code> : Celery is up and running, with workers active and processing tasks normally. </li> <li><code>status: available</code> and <code>workers: notok</code> : Celery is up and running, but one or both workers are encountering problems or is not available. Check the log to identify the issue. </li> </ul> </li> <li> <p>Program: Refer to the configuration and execution of the acoupi program. </p> <ul> <li><code>status: ok</code> : the program has been configured correctly, and no issues have been detected. </li> <li><code>status: unhealthy</code> : there is an issue with the configuration of the program. This suggests that you might need to review the program's configuration setup.  </li> </ul> </li> <li> <p>Deployment: Refer to the overall state of your active acoupi instance, indicating whether everything is currently running as expected.</p> <ul> <li><code>status: active</code>: the deployment is running successfuly, the program is active and tasks are being executed.</li> <li><code>status: inactive</code>: the deployment has stopped or hasn't been started.</li> </ul> </li> </ul>"},{"location":"tutorials/installation/","title":"Installation","text":""},{"location":"tutorials/installation/#installation","title":"Installation","text":"<p>acoupi_birdnet has been designed to run on single-board computer devices like the Raspberry\u00a0Pi (RPi). Users should be able to download and test acoupi_birdnet on any Linux-based machine with acoupi software and Python version &gt;=3.8,&lt;3.12 installed.</p>"},{"location":"tutorials/installation/#installation_requirements","title":"Installation Requirements","text":"<p>We recommend the following hardware elements to install and run acoupi_birdnet.</p> <ul> <li>A Linux-based single-board computer such as the Raspberry Pi 4B.</li> <li>A SD Card with 64-bit Lite OS version installed.</li> <li>An audible frequency range microphone, such as an AudioMoth\u00a0USB\u00a0Microphone or a Lavalier.</li> </ul> Recommended Hardware <p>The software has been extensively developed and tested with the RPi 4B. We advise users to select the RPi 4B or a device featuring similar or higher specifications.</p>"},{"location":"tutorials/installation/#installation_steps","title":"Installation Steps","text":"Getting started with Raspberry Pi <p>If you are new to RPi, we recommend you reading and following the RPi's Getting started documentation.</p> <p>To install and use acoupi_birdnet on your embedded device follow these steps:</p> <p>Step 1: Install acoupi and its dependencies.</p> <p>CLI Command: install acoupi</p> <pre><code>curl -sSL https://github.com/acoupi/acoupi/raw/main/scripts/setup.sh | bash\n</code></pre> <p>Step 2: Install acoupi_birdnet.</p> <p>CLI Command: install acoupi_birdnet</p> <pre><code>pip install acoupi_birdnet\n</code></pre> <p>Step 3: Configure the acoupi_birdnet program.</p> <p>acoupi_birdnet program includes multiple components for recording, processing, saving and deleting audio files, as well as sending detections and summary messages to a remote server. Enter the following command to configure the program according to your needs.</p> <p>CLI Command: configure acoupi_birdnet program</p> <pre><code>acoupi setup --program acoupi_birdnet.program\n</code></pre> <p>Step 4: To start a deployment of acoupi_birdnet, run the command:</p> <p>CLI Command: start the configured acoupi_birdnet program</p> <pre><code>acoupi deployment start\n</code></pre>"}]}